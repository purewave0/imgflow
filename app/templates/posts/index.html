{% extends 'base.html' %}

{% block css %}
    <link rel="stylesheet" href="/static/css/post.css">
{% endblock %}

{% block js %}
    <script src="/static/js/lib/luxon.min.js"></script>
    <script src="/static/js/api.js"></script>
    <script>
        const currentPost = {
            'post_id': {{ post_id|tojson }},
        };
    </script>
    <script src="/static/js/post.js"></script>
{% endblock %}

{% block title %} {{ post_title }} {% endblock %}

{% block content %}
    <div id="post-wrapper">
        <div id="post-actions">
            <svg id="upvote-post" class="action-upvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                <path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/>
            </svg>
            <span id="post-score">{{ post_score }}</span>
            <svg id="downvote-post" class="action-downvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                <path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/>
            </svg>
        </div>

        <section id="post-section">
            <h2 id="post-title"> {{ post_title }} </h2>
            <div id="post-stats">
                <p id="post-views"> {{ post_views }} views </p>
                <span>·</span>
                <p id="post-created-on"> {{ post_created_on }} </p>
            </div>

            <div id="media">
                {% for media_item in media %}
                <figure>
                    <img src="{{media_item.media_url}}">
                    {% if media_item['description'] %}
                    <figcaption>{{ media_item['description'] }}</figcaption>
                    {% endif %}
                </figure>
            {% endfor %}
            </div>
        </section>
    </div>

    <section id="comments-section">
        <h3 id="comments-title">Comments</h3>
        <form id="comment-form" class="comment-form">
            <textarea id="comment-input" class="comment-input" name="comment" rows="6" required placeholder="Type a comment…"></textarea>
            <button id="submit-comment" class="submit-comment" type="submit">Comment</button>
        </form>

        <div id="comments-header">
            <span id="comments-count">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                    <path d="M280-240q-17 0-28.5-11.5T240-280v-80h520v-360h80q17 0 28.5 11.5T880-680v600L720-240H280ZM80-280v-560q0-17 11.5-28.5T120-880h520q17 0 28.5 11.5T680-840v360q0 17-11.5 28.5T640-440H240L80-280Z"/>
                </svg>
                <span id="comments-count-value">{{post_comment_count}}</span> Comments
            </span>
            <div id="comments-sorting">
                <span id="sort-newest" class="selected">Newest</span>
                <span id="sort-most-liked">Most Liked</span>
                <span id="sort-oldest">Oldest</span>
            </div>
        </div>

        <div id="comments">
            <div class="comment-wrapper">
                <div class="comment">
                    <div class="comment-info">
                        <img class="commenter-avatar" src="/static/img/cat.png">
                        <span class="commenter-username">jose_castro</span>
                        <span class="comment-info-separator">·</span>
                        <span class="comment-datetime">15m</span>
                    </div>
                    <div class="comment-content">
                        <p>Made in the interiors of collapsing stars extraplanetary at the edge of forever descended from astronomers a very small stage in a vast cosmic arena Hypatia.</p>
                    </div>
                    <div class="comment-footer">
                        <div class="action-section">
                            <svg class="action-upvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/></svg>
                            <span class="comment-score">10</span>
                            <svg class="action-downvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/></svg>
                        </div>

                        <div class="action-section action-reply">
                             <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M760-200v-160q0-50-35-85t-85-35H273l144 144-57 56-240-240 240-240 57 56-144 144h367q83 0 141.5 58.5T840-360v160h-80Z"/></svg>
                             <span>Reply</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="comment-wrapper">
                <div class="comment">
                    <div class="comment-info">
                        <img class="commenter-avatar" src="/static/img/cat.png">
                        <span class="commenter-username">JennieParker</span>
                        <span class="comment-info-separator">·</span>
                        <span class="comment-datetime">31m</span>
                    </div>
                    <div class="comment-content">
                        <p>Gathered by gravity emerged into consciousness concept of the number one star stuff harvesting star light light years cosmic ocean.</p>
                        <p>Another world a billion trillion worldlets Sea of Tranquility how far away kindling the energy hidden in matter. Permanence of the stars Euclid across the centuries venture take root and flourish from which we spring.</p>
                        </p>
                    </div>
                    <div class="comment-footer">
                        <div class="action-section">
                            <svg class="action-upvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/></svg>
                            <span class="comment-score">11</span>
                            <svg class="action-downvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/></svg>
                        </div>

                        <div class="action-section action-reply">
                             <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M760-200v-160q0-50-35-85t-85-35H273l144 144-57 56-240-240 240-240 57 56-144 144h367q83 0 141.5 58.5T840-360v160h-80Z"/></svg>
                             <span>Reply</span>
                        </div>
                    </div>
                </div>

                <div class="comment-replies">
                    <div class="comment-wrapper">
                        <div class="comment">
                            <div class="comment-info">
                                <img class="commenter-avatar" src="/static/img/cat.png">
                                <span class="commenter-username">jose_castro</span>
                                <span class="comment-info-separator">·</span>
                                <span class="comment-datetime">28m</span>
                            </div>
                            <div class="comment-content">
                                <p>Hearts of the stars permanence of the stars courage of our questions muse about astonishment of brilliant syntheses?</p>
                            </div>
                            <div class="comment-footer">
                                <div class="action-section">
                                    <svg class="action-upvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/></svg>
                                    <span class="comment-score">11</span>
                                    <svg class="action-downvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/></svg>
                                </div>

                                <div class="action-section action-reply">
                                     <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M760-200v-160q0-50-35-85t-85-35H273l144 144-57 56-240-240 240-240 57 56-144 144h367q83 0 141.5 58.5T840-360v160h-80Z"/></svg>
                                     <span>Reply</span>
                                </div>
                            </div>
                        </div>
                        <div class="comment-replies">
                            <div class="comment-wrapper">
                                <div class="comment">
                                    <div class="comment-info">
                                        <img class="commenter-avatar" src="/static/img/cat.png">
                                        <span class="commenter-username">JennieParker</span>
                                        <span class="comment-info-separator">·</span>
                                        <span class="comment-datetime">4m</span>
                                    </div>
                                    <div class="comment-content">
                                        <p>Encyclopaedia galactica citizens of distant epochs made in the interiors of collapsing stars Hypatia kindling the energy hidden in matter not a sunrise but a galaxyrise.</p>
                                    </div>
                                    <div class="comment-footer">
                                        <div class="action-section">
                                            <svg class="action-upvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/></svg>
                                            <span class="comment-score">11</span>
                                            <svg class="action-downvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/></svg>
                                        </div>

                                        <div class="action-section action-reply">
                                             <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M760-200v-160q0-50-35-85t-85-35H273l144 144-57 56-240-240 240-240 57 56-144 144h367q83 0 141.5 58.5T840-360v160h-80Z"/></svg>
                                             <span>Reply</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="comment-wrapper">
                        <div class="comment">
                            <div class="comment-info">
                                <img class="commenter-avatar" src="/static/img/cat.png">
                                <span class="commenter-username">donaldroberts</span>
                                <span class="comment-info-separator">·</span>
                                <span class="comment-datetime">10m</span>
                            </div>
                            <div class="comment-content">
                                <p>Cosmic ocean hydrogen atoms at the edge of forever hearts of the stars science worldlets. Dream of the mind's eye vastness is bearable only through love a still more glorious dawn awaits extraordinary claims require extraordinary evidence.</p>
                            </div>
                            <div class="comment-footer">
                                <div class="action-section">
                                    <svg class="action-upvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/></svg>
                                    <span class="comment-score">11</span>
                                    <svg class="action-downvote" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M320-120v-320H120l360-440 360 440H640v320H320Z"/></svg>
                                </div>

                                <div class="action-section action-reply">
                                     <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M760-200v-160q0-50-35-85t-85-35H273l144 144-57 56-240-240 240-240 57 56-144 144h367q83 0 141.5 58.5T840-360v160h-80Z"/></svg>
                                     <span>Reply</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endblock %}
